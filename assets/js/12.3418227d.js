(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{429:function(t,a,s){t.exports=s.p+"assets/img/068c32c9-874d-48f4-b49a-b6a6c634beda.cdb3a08b.png"},525:function(t,a,s){"use strict";s.r(a);var n=s(65),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h2",{attrs:{id:"页面简介"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#页面简介"}},[t._v("#")]),t._v(" 页面简介")]),t._v(" "),n("p",[t._v("uni-app项目中，一个页面就是一个符合"),n("code",[t._v("Vue SFC")]),t._v("规范的"),n("code",[t._v(".vue")]),t._v("文件或"),n("code",[t._v(".nvue")]),t._v("文件。")]),t._v(" "),n("p",[n("code",[t._v(".vue")]),t._v("页面和"),n("code",[t._v(".nvue")]),t._v("页面，均全平台支持，差异在于当uni-app发行到App平台时，"),n("code",[t._v(".vue")]),t._v("文件会使用webview进行渲染，"),n("code",[t._v(".nvue")]),t._v("会使用原生进行渲染，详见："),n("a",{attrs:{href:"https://uniapp.dcloud.net.cn/tutorial/nvue-outline.html#",target:"_blank",rel:"noopener noreferrer"}},[t._v("nvue原生渲染"),n("OutboundLink")],1),t._v("。")]),t._v(" "),n("h2",{attrs:{id:"新建页面"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#新建页面"}},[t._v("#")]),t._v(" 新建页面")]),t._v(" "),n("p",[n("code",[t._v("uni-app")]),t._v("中的页面，通常会保存在工程根目录下的pages目录下。")]),t._v(" "),n("p",[t._v("每次新建页面，均需在pages.json中配置pages列表；未在pages.json -> pages 中配置的页面，uni-app会在编译阶段进行忽略。pages.json的完整配置参考："),n("a",{attrs:{href:"https://uniapp.dcloud.net.cn/collocation/pages.html#",target:"_blank",rel:"noopener noreferrer"}},[t._v("全局文件"),n("OutboundLink")],1),t._v("。")]),t._v(" "),n("p",[t._v("通过HBuilderX开发 uni-app 项目时，在 uni-app 项目上右键“新建页面”，HBuilderX会自动在pages.json中完成页面注册，开发更方便。")]),t._v(" "),n("p",[t._v("同时，HBuilderX 还内置了常用的页面模板（如图文列表、商品列表等），选择这些模板，可以大幅提升你的开发效率。")]),t._v(" "),n("p",[n("img",{attrs:{src:s(429),alt:""}})]),t._v(" "),n("h2",{attrs:{id:"删除页面"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#删除页面"}},[t._v("#")]),t._v(" 删除页面")]),t._v(" "),n("p",[t._v("删除页面时，需做两件工作：")]),t._v(" "),n("ul",[n("li",[t._v("删除"),n("code",[t._v(".vue")]),t._v("文件或"),n("code",[t._v(".nvue")]),t._v("文件")]),t._v(" "),n("li",[t._v("删除"),n("code",[t._v("pages.json -> pages")]),t._v("列表项中的配置")])]),t._v(" "),n("h2",{attrs:{id:"页面生命周期"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#页面生命周期"}},[t._v("#")]),t._v(" 页面生命周期")]),t._v(" "),n("p",[n("code",[t._v("uni-app")]),t._v(" 支持如下页面生命周期函数：")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("函数名")]),t._v(" "),n("th",[t._v("说明")]),t._v(" "),n("th",[t._v("平台差异说明")]),t._v(" "),n("th",[t._v("最低版本")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("onInit")]),t._v(" "),n("td",[t._v("监听页面初始化，其参数同 onLoad 参数，为上个页面传递的数据，参数类型为 Object（用于页面传参），触发时机早于 onLoad")]),t._v(" "),n("td",[t._v("百度小程序")]),t._v(" "),n("td",[t._v("3.1.0+")])]),t._v(" "),n("tr",[n("td",[t._v("onLoad")]),t._v(" "),n("td",[t._v("监听页面加载，其参数为上个页面传递的数据，参数类型为 Object（用于页面传参），参考"),n("a",{attrs:{href:"https://uniapp.dcloud.net.cn/api/router.html#navigateto",target:"_blank",rel:"noopener noreferrer"}},[t._v("示例"),n("OutboundLink")],1)]),t._v(" "),n("td"),t._v(" "),n("td")]),t._v(" "),n("tr",[n("td",[t._v("onShow")]),t._v(" "),n("td",[t._v("监听页面显示。页面每次出现在屏幕上都触发，包括从下级页面点返回露出当前页面")]),t._v(" "),n("td"),t._v(" "),n("td")]),t._v(" "),n("tr",[n("td",[t._v("onReady")]),t._v(" "),n("td",[t._v("监听页面初次渲染完成。注意如果渲染速度快，会在页面进入动画完成前触发")]),t._v(" "),n("td"),t._v(" "),n("td")]),t._v(" "),n("tr",[n("td",[t._v("onHide")]),t._v(" "),n("td",[t._v("监听页面隐藏")]),t._v(" "),n("td"),t._v(" "),n("td")]),t._v(" "),n("tr",[n("td",[t._v("onUnload")]),t._v(" "),n("td",[t._v("监听页面卸载")]),t._v(" "),n("td"),t._v(" "),n("td")]),t._v(" "),n("tr",[n("td",[t._v("onResize")]),t._v(" "),n("td",[t._v("监听窗口尺寸变化")]),t._v(" "),n("td",[t._v("App、微信小程序、快手小程序")]),t._v(" "),n("td")]),t._v(" "),n("tr",[n("td",[t._v("onPullDownRefresh")]),t._v(" "),n("td",[t._v("监听用户下拉动作，一般用于下拉刷新，参考"),n("a",{attrs:{href:"https://uniapp.dcloud.net.cn/api/ui/pulldown.html#",target:"_blank",rel:"noopener noreferrer"}},[t._v("示例"),n("OutboundLink")],1)]),t._v(" "),n("td"),t._v(" "),n("td")]),t._v(" "),n("tr",[n("td",[t._v("onReachBottom")]),t._v(" "),n("td",[t._v("页面滚动到底部的事件（不是scroll-view滚到底），常用于下拉下一页数据。具体见下方注意事项")]),t._v(" "),n("td"),t._v(" "),n("td")]),t._v(" "),n("tr",[n("td",[t._v("onTabItemTap")]),t._v(" "),n("td",[t._v("点击 tab 时触发，参数为Object，具体见下方注意事项")]),t._v(" "),n("td",[t._v("微信小程序、QQ小程序、支付宝小程序、百度小程序、H5、App、快手小程序、京东小程序")]),t._v(" "),n("td")]),t._v(" "),n("tr",[n("td",[t._v("onShareAppMessage")]),t._v(" "),n("td",[t._v("用户点击右上角分享")]),t._v(" "),n("td",[t._v("微信小程序、QQ小程序、支付宝小程序、字节小程序、飞书小程序、快手小程序、京东小程序")]),t._v(" "),n("td")]),t._v(" "),n("tr",[n("td",[t._v("onPageScroll")]),t._v(" "),n("td",[t._v("监听页面滚动，参数为Object")]),t._v(" "),n("td",[t._v("nvue暂不支持")]),t._v(" "),n("td")]),t._v(" "),n("tr",[n("td",[t._v("onNavigationBarButtonTap")]),t._v(" "),n("td",[t._v("监听原生标题栏按钮点击事件，参数为Object")]),t._v(" "),n("td",[t._v("App、H5")]),t._v(" "),n("td")]),t._v(" "),n("tr",[n("td",[t._v("onBackPress")]),t._v(" "),n("td",[t._v("监听页面返回，返回 event = {from:backbutton、 navigateBack} ，backbutton 表示来源是左上角返回按钮或 android 返回键；navigateBack表示来源是 uni.navigateBack ；详细说明及使用："),n("a",{attrs:{href:"https://ask.dcloud.net.cn/article/35120",target:"_blank",rel:"noopener noreferrer"}},[t._v("onBackPress 详解"),n("OutboundLink")],1),t._v("。支付宝小程序只有真机能触发，只能监听非navigateBack引起的返回，不可阻止默认行为。")]),t._v(" "),n("td",[t._v("app、H5、支付宝小程序")]),t._v(" "),n("td")]),t._v(" "),n("tr",[n("td",[t._v("onNavigationBarSearchInputChanged")]),t._v(" "),n("td",[t._v("监听原生标题栏搜索输入框输入内容变化事件")]),t._v(" "),n("td",[t._v("App、H5")]),t._v(" "),n("td",[t._v("1.6.0")])]),t._v(" "),n("tr",[n("td",[t._v("onNavigationBarSearchInputConfirmed")]),t._v(" "),n("td",[t._v("监听原生标题栏搜索输入框搜索事件，用户点击软键盘上的“搜索”按钮时触发。")]),t._v(" "),n("td",[t._v("App、H5")]),t._v(" "),n("td",[t._v("1.6.0")])]),t._v(" "),n("tr",[n("td",[t._v("onNavigationBarSearchInputClicked")]),t._v(" "),n("td",[t._v("监听原生标题栏搜索输入框点击事件（pages.json 中的 searchInput 配置 disabled 为 true 时才会触发）")]),t._v(" "),n("td",[t._v("App、H5")]),t._v(" "),n("td",[t._v("1.6.0")])]),t._v(" "),n("tr",[n("td",[t._v("onShareTimeline")]),t._v(" "),n("td",[t._v("监听用户点击右上角转发到朋友圈")]),t._v(" "),n("td",[t._v("微信小程序")]),t._v(" "),n("td",[t._v("2.8.1+")])]),t._v(" "),n("tr",[n("td",[t._v("onAddToFavorites")]),t._v(" "),n("td",[t._v("监听用户点击右上角收藏")]),t._v(" "),n("td",[t._v("微信小程序、QQ小程序")]),t._v(" "),n("td",[t._v("2.8.1+")])])])]),t._v(" "),n("p",[n("code",[t._v("onInit")]),t._v("使用注意")]),t._v(" "),n("ul",[n("li",[t._v("仅百度小程序基础库 3.260 以上支持 onInit 生命周期")]),t._v(" "),n("li",[t._v("其他版本或平台可以同时使用 onLoad 生命周期进行兼容，注意避免重复执行相同逻辑")]),t._v(" "),n("li",[t._v("不依赖页面传参的逻辑可以直接使用 created 生命周期替代")])]),t._v(" "),n("p",[n("code",[t._v("onReachBottom")]),t._v("使用注意 可在pages.json里定义具体页面底部的触发距离"),n("a",{attrs:{href:"https://uniapp.dcloud.net.cn/collocation/pages.html#globalstyle",target:"_blank",rel:"noopener noreferrer"}},[t._v("onReachBottomDistance"),n("OutboundLink")],1),t._v("，比如设为50，那么滚动页面到距离底部50px时，就会触发onReachBottom事件。")]),t._v(" "),n("p",[t._v("如使用scroll-view导致页面没有滚动，则触底事件不会被触发。scroll-view滚动到底部的事件请参考scroll-view的文档")]),t._v(" "),n("p",[n("code",[t._v("onPageScroll")]),t._v(" （监听滚动、滚动监听、滚动事件）参数说明：")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("属性")]),t._v(" "),n("th",[t._v("类型")]),t._v(" "),n("th",[t._v("说明")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("scrollTop")]),t._v(" "),n("td",[t._v("Number")]),t._v(" "),n("td",[t._v("页面在垂直方向已滚动的距离（单位px）")])])])]),t._v(" "),n("p",[n("strong",[t._v("注意")])]),t._v(" "),n("ul",[n("li",[n("code",[t._v("onPageScroll")]),t._v("里不要写交互复杂的js，比如频繁修改页面。因为这个生命周期是在渲染层触发的，在非h5端，js是在逻辑层执行的，两层之间通信是有损耗的。如果在滚动过程中，频发触发两层之间的数据交换，可能会造成卡顿。")]),t._v(" "),n("li",[t._v("如果想实现滚动时标题栏透明渐变，在App和H5下，可在pages.json中配置titleNView下的type为transparent，"),n("a",{attrs:{href:"https://uniapp.dcloud.net.cn/collocation/pages.html#app-titlenview",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考"),n("OutboundLink")],1),t._v("。")]),t._v(" "),n("li",[t._v("如果需要滚动吸顶固定某些元素，推荐使用css的粘性布局，参考"),n("a",{attrs:{href:"https://ext.dcloud.net.cn/plugin?id=715",target:"_blank",rel:"noopener noreferrer"}},[t._v("插件市场"),n("OutboundLink")],1),t._v("。插件市场也有其他js实现的吸顶插件，但性能不佳，需要时可自行搜索。")]),t._v(" "),n("li",[t._v("在App、微信小程序、H5中，也可以使用wxs监听滚动，"),n("a",{attrs:{href:"https://uniapp.dcloud.net.cn/tutorial/miniprogram-subject.html#wxs",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考"),n("OutboundLink")],1),t._v(";在app-nvue中，可以使用bindingx监听滚动，"),n("a",{attrs:{href:"https://uniapp.dcloud.net.cn/tutorial/nvue-api.html#nvue-%E9%87%8C%E4%BD%BF%E7%94%A8-bindingx",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("code",[t._v("onBackPress")]),t._v("上不可使用"),n("code",[t._v("async")]),t._v(", 会导致无法阻止默认返回")])]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onPageScroll")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//nvue暂不支持滚动监听，可用bindingx代替")]),t._v("\n\tconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"滚动距离为："')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollTop"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),n("p",[t._v("onTabItemTap 返回的json对象说明：")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("属性")]),t._v(" "),n("th",[t._v("类型")]),t._v(" "),n("th",[t._v("说明")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("index")]),t._v(" "),n("td",[t._v("Number")]),t._v(" "),n("td",[t._v("被点击tabItem的序号，从0开始")])]),t._v(" "),n("tr",[n("td",[t._v("pagePath")]),t._v(" "),n("td",[t._v("String")]),t._v(" "),n("td",[t._v("被点击tabItem的页面路径")])]),t._v(" "),n("tr",[n("td",[t._v("text")]),t._v(" "),n("td",[t._v("String")]),t._v(" "),n("td",[t._v("被点击tabItem的按钮文字")])])])]),t._v(" "),n("p",[n("strong",[t._v("注意")])]),t._v(" "),n("ul",[n("li",[t._v("onTabItemTap常用于点击当前tabitem，滚动或刷新当前页面。如果是点击不同的tabitem，一定会触发页面切换。")]),t._v(" "),n("li",[t._v("如果想在App端实现点击某个tabitem不跳转页面，不能使用onTabItemTap，可以使用"),n("a",{attrs:{href:"https://www.html5plus.org/doc/zh_cn/nativeobj.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("plus.nativeObj.view"),n("OutboundLink")],1),t._v("放一个区块盖住原先的tabitem，并拦截点击事件。")]),t._v(" "),n("li",[t._v("支付宝小程序平台onTabItemTap表现为点击非当前tabitem后触发，因此不能用于实现点击返回顶部这种操作")])]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onTabItemTap")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// e的返回格式为json对象： {"index":0,"text":"首页","pagePath":"pages/index/index"}')]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),n("p",[n("code",[t._v("onNavigationBarButtonTap")]),t._v("参数说明：")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("属性")]),t._v(" "),n("th",[t._v("类型")]),t._v(" "),n("th",[t._v("说明")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("index")]),t._v(" "),n("td",[t._v("Number")]),t._v(" "),n("td",[t._v("原生标题栏按钮数组的下标")])])])]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onNavigationBarButtonTap")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// e的返回格式为json对象：{"text":"测试","index":0}')]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[n("code",[t._v("onBackPress")]),t._v("回调参数对象说明：")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("属性")]),t._v(" "),n("th",[t._v("类型")]),t._v(" "),n("th",[t._v("说明")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("from")]),t._v(" "),n("td",[t._v("String")]),t._v(" "),n("td",[t._v("触发返回行为的来源：'backbutton'——左上角导航栏按钮及安卓返回键；'navigateBack'——uni.navigateBack() 方法。"),n("strong",[t._v("支付宝小程序端不支持返回此字段")])])])])]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("data")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("onBackPress")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("options")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'from:'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" options"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("from"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[n("strong",[t._v("注意")])]),t._v(" "),n("ul",[n("li",[t._v("nvue 页面weex编译模式支持的生命周期同weex，具体参考："),n("a",{attrs:{href:"https://uniapp.dcloud.net.cn/tutorial/nvue-outline.html#%E7%BC%96%E8%AF%91%E6%A8%A1%E5%BC%8F",target:"_blank",rel:"noopener noreferrer"}},[t._v("weex生命周期介绍"),n("OutboundLink")],1)]),t._v(" "),n("li",[t._v("支付宝小程序真机可以监听到非"),n("code",[t._v("navigateBack")]),t._v("引发的返回事件(使用小程序开发工具时不会触发"),n("code",[t._v("onBackPress")]),t._v("),不可以阻止默认返回行为")])]),t._v(" "),n("h2",{attrs:{id:"组件生命周期"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#组件生命周期"}},[t._v("#")]),t._v(" 组件生命周期")]),t._v(" "),n("p",[n("code",[t._v("uni-app")]),t._v(" 组件支持的生命周期，与vue标准组件的生命周期相同。这里没有页面级的onLoad等生命周期：")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("函数名")]),t._v(" "),n("th",[t._v("说明")]),t._v(" "),n("th",[t._v("平台差异说明")]),t._v(" "),n("th",[t._v("最低版本")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("beforeCreate")]),t._v(" "),n("td",[t._v("在实例初始化之前被调用。"),n("a",{attrs:{href:"https://v2.cn.vuejs.org/v2/api/#beforeCreate",target:"_blank",rel:"noopener noreferrer"}},[t._v("详见"),n("OutboundLink")],1)]),t._v(" "),n("td"),t._v(" "),n("td")]),t._v(" "),n("tr",[n("td",[t._v("created")]),t._v(" "),n("td",[t._v("在实例创建完成后被立即调用。")]),t._v(" "),n("td"),t._v(" "),n("td")]),t._v(" "),n("tr",[n("td",[t._v("beforeMount")]),t._v(" "),n("td",[t._v("在挂载开始之前被调用。")]),t._v(" "),n("td"),t._v(" "),n("td")]),t._v(" "),n("tr",[n("td",[t._v("mounted")]),t._v(" "),n("td",[t._v("挂载到实例上去之后调用。注意：此处并不能确定子组件被全部挂载，如果需要子组件完全挂载之后在执行操作可以使用$nextTick")]),t._v(" "),n("td"),t._v(" "),n("td")]),t._v(" "),n("tr",[n("td",[t._v("beforeUpdate")]),t._v(" "),n("td",[t._v("数据更新时调用，发生在虚拟 DOM 打补丁之前。")]),t._v(" "),n("td",[t._v("仅H5平台支持")]),t._v(" "),n("td")]),t._v(" "),n("tr",[n("td",[t._v("updated")]),t._v(" "),n("td",[t._v("由于数据更改导致的虚拟 DOM 重新渲染和打补丁，在这之后会调用该钩子。")]),t._v(" "),n("td",[t._v("仅H5平台支持")]),t._v(" "),n("td")]),t._v(" "),n("tr",[n("td",[t._v("beforeDestroy")]),t._v(" "),n("td",[t._v("实例销毁之前调用。在这一步，实例仍然完全可用。")]),t._v(" "),n("td"),t._v(" "),n("td")]),t._v(" "),n("tr",[n("td",[t._v("destroyed")]),t._v(" "),n("td",[t._v("Vue 实例销毁后调用。调用后，Vue 实例指示的所有东西都会解绑定，所有的事件监听器会被移除，所有的子实例也会被销毁。")]),t._v(" "),n("td"),t._v(" "),n("td")])])]),t._v(" "),n("h2",{attrs:{id:"页面调用接口"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#页面调用接口"}},[t._v("#")]),t._v(" 页面调用接口")]),t._v(" "),n("h3",{attrs:{id:"getapp"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#getapp"}},[t._v("#")]),t._v(" getApp()")]),t._v(" "),n("p",[n("code",[t._v("getApp()")]),t._v("函数用于获取当前应用实例，一般用于获取globalData 。")]),t._v(" "),n("p",[n("strong",[t._v("实例")])]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" app "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getApp")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("app"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("globalData"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[n("strong",[t._v("注意")])]),t._v(" "),n("ul",[n("li",[t._v("不要在定义于"),n("code",[t._v("App()")]),t._v("内的函数中,或调用"),n("code",[t._v("App")]),t._v("前调用"),n("code",[t._v("getApp()")]),t._v(",可以通过"),n("code",[t._v("this.$scope")]),t._v("获取对应的app实例")]),t._v(" "),n("li",[t._v("通过"),n("code",[t._v("getApp()")]),t._v("获取实例之后，不要私自调用生命周期函数。")]),t._v(" "),n("li",[t._v("当在首页"),n("code",[t._v("nvue")]),t._v("中使用"),n("code",[t._v("getApp()")]),t._v("不一定可以获取真正的"),n("code",[t._v("App")]),t._v("对象。对此提供了"),n("code",[t._v("const app = getApp({allowDefault: true})")]),t._v("用来获取原始的"),n("code",[t._v("App")]),t._v("对象,可以用来在首页对"),n("code",[t._v("globalData")]),t._v("等初始化。")])]),t._v(" "),n("h3",{attrs:{id:"getcurrentpages"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#getcurrentpages"}},[t._v("#")]),t._v(" getCurrentPages()")]),t._v(" "),n("p",[n("code",[t._v("getCurrentPages()")]),t._v("函数用于获取当前页面栈的实例,以数组形式按栈的顺序给出，第一个元素为首页，最后一个元素为当前页面。")]),t._v(" "),n("p",[n("strong",[t._v("注意：")]),t._v(" "),n("code",[t._v("getCurrentPages()")]),t._v("仅用于展示页面栈的情况，请勿修改页面栈，以免造成页面状态错误。")]),t._v(" "),n("p",[t._v("每个页面实例的方法属性列表：")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("方法")]),t._v(" "),n("th",[t._v("描述")]),t._v(" "),n("th",[t._v("平台说明")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("page.$getAppWebview()")]),t._v(" "),n("td",[t._v("获取当前页面的webview对象实例")]),t._v(" "),n("td",[t._v("App")])]),t._v(" "),n("tr",[n("td",[t._v("page.route")]),t._v(" "),n("td",[t._v("获取当前页面的路由")]),t._v(" "),n("td")])])]),t._v(" "),n("p",[t._v("Tips：")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("navigateTo")]),t._v(","),n("code",[t._v("redirectTo")]),t._v(" 只能打开非 tabBar 页面。")]),t._v(" "),n("li",[n("code",[t._v("switchTab")]),t._v(" 只能打开"),n("code",[t._v("tabBar")]),t._v("页面。")]),t._v(" "),n("li",[n("code",[t._v("reLaunch")]),t._v("可以打开任意页面。")]),t._v(" "),n("li",[t._v("页面底部的 "),n("code",[t._v("tabBar")]),t._v("由页面决定,即只要是定义为"),n("code",[t._v("tabBar")]),t._v("的页面，底部都有"),n("code",[t._v("tabBar")]),t._v("。")]),t._v(" "),n("li",[t._v("不能在 "),n("code",[t._v("App.vue")]),t._v("里面进行页面跳转。")])]),t._v(" "),n("h3",{attrs:{id:"getappwebview"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#getappwebview"}},[t._v("#")]),t._v(" $getAppWebview()")]),t._v(" "),n("p",[n("code",[t._v("uni-app")]),t._v("在 "),n("code",[t._v("getCurrentPages()")]),t._v("获得的页面里内置了一个方法"),n("code",[t._v("$getAppWebview()")]),t._v("可以得到当前webview的对象实例，从而实现对 webview 更强大的控制。在 html5Plus 中，plus.webview具有强大的控制能力，可参考："),n("a",{attrs:{href:"https://www.html5plus.org/doc/zh_cn/webview.html#plus.webview.WebviewObject",target:"_blank",rel:"noopener noreferrer"}},[t._v("WebviewObject"),n("OutboundLink")],1)]),t._v(" "),n("p",[t._v("但"),n("code",[t._v("uni-app")]),t._v("框架有自己的窗口管理机制, 请不要自己创建和销毁webview，如有需求覆盖子窗体上去，请使用"),n("a",{attrs:{href:"https://uniapp.dcloud.net.cn/api/window/subNVues.html#",target:"_blank",rel:"noopener noreferrer"}},[t._v("原生子窗体subNvue"),n("OutboundLink")],1)]),t._v(" "),n("p",[n("strong",[t._v("注意：此方法仅 App 支持")])]),t._v(" "),n("p",[n("strong",[t._v("示例：")])]),t._v(" "),n("p",[t._v("获取当前页面 webview 的对象实例")]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("data")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("title")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Hello'")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("onLoad")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// #ifdef APP-PLUS")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" currentWebview "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$scope"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("$getAppWebview")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//此对象相当于html5plus里的plus.webview.currentWebview()。在uni-app里vue页面直接使用plus.webview.currentWebview()无效")]),t._v("\n    currentWebview"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setBounce")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("position")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("top")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'100px'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("changeoffset")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("top")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'0px'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//动态重设bounce效果")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// #endif")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("获取指定页面 webview 的对象实例")]),t._v(" "),n("p",[n("code",[t._v("getCurrentPages()")]),t._v("可以得到所有页面对象，然后根据数组，可以取指定的页面webview对象")]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" pages "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getCurrentPages")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" page "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pages"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("pages"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// #ifdef APP-PLUS")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" currentWebview "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" page"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("$getAppWebview")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("currentWebview"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//获得当前webview的id")]),t._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("currentWebview"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("isVisible")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//查询当前webview是否可见")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// #endif")]),t._v("\n")])])]),n("p",[t._v("uni-app自带的web-view组件，是页面中新插入的一个子webview。获取该对象的方法见："),n("a",{attrs:{href:"https://ask.dcloud.net.cn/article/35036",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://ask.dcloud.net.cn/article/35036"),n("OutboundLink")],1)]),t._v(" "),n("h2",{attrs:{id:"页面通讯"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#页面通讯"}},[t._v("#")]),t._v(" 页面通讯")]),t._v(" "),n("h3",{attrs:{id:"uni-emit-eventname-object"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#uni-emit-eventname-object"}},[t._v("#")]),t._v(" uni.$emit(eventName,OBJECT)")]),t._v(" "),n("p",[t._v("触发全局的自定义事件。附加参数都会传给监听器回调。")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("属性")]),t._v(" "),n("th",[t._v("类型")]),t._v(" "),n("th",[t._v("描述")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("eventName")]),t._v(" "),n("td",[t._v("String")]),t._v(" "),n("td",[t._v("事件名")])]),t._v(" "),n("tr",[n("td",[t._v("OBJECT")]),t._v(" "),n("td",[t._v("Object")]),t._v(" "),n("td",[t._v("触发事件携带的附加参数")])])])]),t._v(" "),n("p",[n("strong",[t._v("代码示例")])]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[t._v("uni"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("$emit")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'update'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("msg")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'页面更新'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("h3",{attrs:{id:"uni-on-eventname-callback"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#uni-on-eventname-callback"}},[t._v("#")]),t._v(" uni.$on(eventName,callback)")]),t._v(" "),n("p",[t._v("监听全局的自定义事件。事件可以由 uni.$emit 触发，回调函数会接收所有传入事件触发函数的额外参数。")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("属性")]),t._v(" "),n("th",[t._v("类型")]),t._v(" "),n("th",[t._v("描述")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("eventName")]),t._v(" "),n("td",[t._v("String")]),t._v(" "),n("td",[t._v("事件名")])]),t._v(" "),n("tr",[n("td",[t._v("callback")]),t._v(" "),n("td",[t._v("Function")]),t._v(" "),n("td",[t._v("事件的回调函数")])])])]),t._v(" "),n("p",[n("strong",[t._v("代码示例")])]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[t._v("uni"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("$on")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'update'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("data")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'监听到事件来自 update ，携带参数 msg 为：'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("msg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("h3",{attrs:{id:"uni-once-eventname-callback"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#uni-once-eventname-callback"}},[t._v("#")]),t._v(" uni.$once(eventName,callback)")]),t._v(" "),n("p",[t._v("监听全局的自定义事件。事件可以由 uni.$emit 触发，但是只触发一次，在第一次触发之后移除监听器。")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("属性")]),t._v(" "),n("th",[t._v("类型")]),t._v(" "),n("th",[t._v("描述")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("eventName")]),t._v(" "),n("td",[t._v("String")]),t._v(" "),n("td",[t._v("事件名")])]),t._v(" "),n("tr",[n("td",[t._v("callback")]),t._v(" "),n("td",[t._v("Function")]),t._v(" "),n("td",[t._v("事件的回调函数")])])])]),t._v(" "),n("p",[n("strong",[t._v("代码示例")])]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[t._v("uni"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("$once")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'update'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("data")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'监听到事件来自 update ，携带参数 msg 为：'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("msg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("h3",{attrs:{id:"uni-off-eventname-callback"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#uni-off-eventname-callback"}},[t._v("#")]),t._v(" uni.$off([eventName, callback])")]),t._v(" "),n("p",[t._v("移除全局自定义事件监听器。")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("属性")]),t._v(" "),n("th",[t._v("类型")]),t._v(" "),n("th",[t._v("描述")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("eventName")]),t._v(" "),n("td",[t._v("String")]),t._v(" "),n("td",[t._v("事件名")])]),t._v(" "),n("tr",[n("td",[t._v("callback")]),t._v(" "),n("td",[t._v("Function")]),t._v(" "),n("td",[t._v("事件的回调函数")])])])]),t._v(" "),n("p",[n("strong",[t._v("Tips")])]),t._v(" "),n("ul",[n("li",[t._v("如果没有提供参数，则移除所有的事件监听器；")]),t._v(" "),n("li",[t._v("如果只提供了事件，则移除该事件所有的监听器；")]),t._v(" "),n("li",[t._v("如果同时提供了事件与回调，则只移除这个回调的监听器；")]),t._v(" "),n("li",[t._v("提供的回调必须跟$on的回调为同一个才能移除这个回调的监听器；")])]),t._v(" "),n("p",[n("strong",[t._v("代码示例")]),t._v(" "),n("code",[t._v("$emit")]),t._v("、"),n("code",[t._v("$on")]),t._v("、"),n("code",[t._v("$off")]),t._v("常用于跨页面、跨组件通讯，这里为了方便演示放在同一个页面")]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("template"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("view "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"content"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("view "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("text"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("val"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("text"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("view"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("button type"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"primary"')]),t._v(" @click"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"comunicationOff"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("结束监听"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("button"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("view"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("template"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("data")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("val")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("onLoad")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setInterval")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        uni"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("$emit")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'add'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("data")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      uni"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("$on")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'add'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("add"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("methods")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("comunicationOff")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        uni"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("$off")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'add'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("add"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("val "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("style"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("content "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("display")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" flex"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    flex"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("direction"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" column"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    align"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("items"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" center"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    justify"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("content"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" center"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    text"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("align"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" center"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    line"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("height"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 40px"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    margin"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("top"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 40px"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  button "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("width")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 200px"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("margin")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 20px "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("style"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),n("p",[n("strong",[t._v("注意事项")])]),t._v(" "),n("ul",[n("li",[t._v("uni.$emit、 uni.$on 、 uni.$once 、uni.$off 触发的事件都是 App 全局级别的，跨任意组件，页面，nvue，vue 等")]),t._v(" "),n("li",[t._v("使用时，注意及时销毁事件监听，比如，页面 onLoad 里边 uni.$on 注册监听，onUnload 里边 uni.$off 移除，或者一次性的事件，直接使用 uni.$once 监听")])]),t._v(" "),n("p",[t._v("扩展阅读：\n"),n("a",{attrs:{href:"https://ask.dcloud.net.cn/article/36010",target:"_blank",rel:"noopener noreferrer"}},[t._v("如何使用uni.$emit()和uni.$on() 进行页面间\n通讯"),n("OutboundLink")],1)]),t._v(" "),n("h3",{attrs:{id:"路由"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#路由"}},[t._v("#")]),t._v(" 路由")]),t._v(" "),n("p",[n("code",[t._v("uni-app")]),t._v("页面路由为框架统一管理, 开发者需要在"),n("code",[t._v("pages.json")]),t._v("里配置每个路由页面的路径及页面样式。类似小程序在 app.json 中配置页面路由一样。所以"),n("code",[t._v("uni-app")]),t._v("\n的路由用法与"),n("code",[t._v("Vue Router")]),t._v("不同，如仍希望采用 "),n("code",[t._v("Vue Router")]),t._v(" 方式管理路由，可在插件市场搜索 "),n("code",[t._v("Vue-Router")])]),t._v(" "),n("h3",{attrs:{id:"路由跳转"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#路由跳转"}},[t._v("#")]),t._v(" 路由跳转")]),t._v(" "),n("p",[n("code",[t._v("uni-app")]),t._v(" 有两种页面路由跳转方式：使用"),n("code",[t._v("navigator")]),t._v("组件跳转、调用"),n("code",[t._v("API")]),t._v("跳转。")]),t._v(" "),n("h3",{attrs:{id:"页面栈"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#页面栈"}},[t._v("#")]),t._v(" 页面栈")]),t._v(" "),n("p",[t._v("框架以栈的形式管理当前所有页面， 当发生路由切换的时候，页面栈的表现如下：")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("路由方式")]),t._v(" "),n("th",[t._v("页面栈表现")]),t._v(" "),n("th",[t._v("触发时机")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("初始化")]),t._v(" "),n("td",[t._v("新页面入栈")]),t._v(" "),n("td",[t._v("uni-app打开的第一个页面")])]),t._v(" "),n("tr",[n("td",[t._v("打开新页面")]),t._v(" "),n("td",[t._v("新页面入栈")]),t._v(" "),n("td",[t._v("调用API uni.navigateTo")])]),t._v(" "),n("tr",[n("td",[t._v("页面重定向")]),t._v(" "),n("td",[t._v("当前页面出栈，新页面入栈")]),t._v(" "),n("td",[t._v("调用 API   uni.redirectTo  、使用组件  "),n("code",[t._v('<navigator open-type="redirectTo"/>')])])]),t._v(" "),n("tr",[n("td",[t._v("页面返回")]),t._v(" "),n("td",[t._v("页面不断出栈，直到目标返回页")]),t._v(" "),n("td",[t._v("调用 API  uni.navigateBack   、使用组件"),n("code",[t._v('<navigator open-type="navigateBack"/>')]),t._v(" 、用户按左上角返回按钮、安卓用户点击物理back按键")])]),t._v(" "),n("tr",[n("td",[t._v("Tab 切换")]),t._v(" "),n("td",[t._v("页面全部出栈，只留下新的 Tab 页面")]),t._v(" "),n("td",[t._v("调用 API  uni.switchTab  、使用组件  "),n("code",[t._v('<navigator open-type="switchTab"/>')]),t._v("  、用户切换 Tab")])]),t._v(" "),n("tr",[n("td",[t._v("重加载")]),t._v(" "),n("td",[t._v("页面全部出栈，只留下新的页面")]),t._v(" "),n("td",[t._v("调用 API  uni.reLaunch  、使用组件  "),n("code",[t._v('<navigator open-type="reLaunch"/>')])])])])]),t._v(" "),n("h3",{attrs:{id:"页面代码规范介绍"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#页面代码规范介绍"}},[t._v("#")]),t._v(" 页面代码规范介绍")]),t._v(" "),n("p",[n("code",[t._v("uni-app")]),t._v(" 支持在 template 模板中嵌套 "),n("code",[t._v("<template/>")]),t._v(" 和 "),n("code",[t._v("<block/>")]),t._v("，用来进行 列表渲染 和 条件渲染。")]),t._v(" "),n("p",[n("code",[t._v("<template/>")]),t._v(" 和 "),n("code",[t._v("<block/>")]),t._v(" 并不是一个组件，它们仅仅是一个包装元素，不会在页面中做任何渲染，只接受控制属性。")]),t._v(" "),n("p",[n("code",[t._v("<block/>")]),t._v(" 在不同的平台表现存在一定差异，推荐统一使用 "),n("code",[t._v("<template/>")]),t._v("。")]),t._v(" "),n("p",[n("strong",[t._v("代码示例")])]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('<template>\n\t<view>\n\t\t<template v-if="test">\n\t\t\t<view>test 为 true 时显示</view>\n\t\t</template>\n\t\t<template v-else>\n\t\t\t<view>test 为 false 时显示</view>\n\t\t</template>\n\t</view>\n</template>\n')])])]),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('<template>\n\t<view>\n\t\t<block v-for="(item,index) in list" :key="index">\n\t\t\t<view>{{item}} - {{index}}</view>\n\t\t</block>\n\t</view>\n</template>\n')])])]),n("h3",{attrs:{id:"nvue-开发与-vue-开发的常见区别"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#nvue-开发与-vue-开发的常见区别"}},[t._v("#")]),t._v(" nvue 开发与 vue 开发的常见区别")]),t._v(" "),n("p",[t._v("基于原生引擎的渲染，虽然还是前端技术栈，但和 web 开发肯定是有区别的。")]),t._v(" "),n("ol",[n("li",[t._v("nvue 页面控制显隐只可以使用v-if不可以使用v-show")]),t._v(" "),n("li",[t._v("nvue 页面只能使用flex布局，不支持其他布局方式。页面开发前，首先想清楚这个页面的纵向内容有什么，哪些是要滚动的，然后每个纵向内容的横轴排布有什么，按 flex 布局设计好界面。")]),t._v(" "),n("li",[t._v("nvue 页面的布局排列方向默认为竖排（column），如需改变布局方向，可以在 "),n("code",[t._v("manifest.json")]),t._v(" -> "),n("code",[t._v("app-plus")]),t._v(" -> "),n("code",[t._v("nvue")]),t._v(" -> "),n("code",[t._v("flex-direction")]),t._v(" 节点下修改，仅在 "),n("code",[t._v("uni-app")]),t._v(" 模式下生效。"),n("a",{attrs:{href:"https://uniapp.dcloud.net.cn/collocation/manifest.html#nvue",target:"_blank",rel:"noopener noreferrer"}},[t._v("详情"),n("OutboundLink")],1),t._v("。")]),t._v(" "),n("li",[t._v("nvue 页面编译为 H5、小程序时，会做一件 css 默认值对齐的工作。因为 weex 渲染引擎只支持 flex，并且默认 flex 方向是垂直。而 H5 和小程序端，使用 web 渲染，默认不是 flex，并且设置display:flex后，它的 flex 方向默认是水平而不是垂直的。所以 nvue 编译为 H5、小程序时，会自动把页面默认布局设为 flex、方向为垂直。当然开发者手动设置后会覆盖默认设置。")]),t._v(" "),n("li",[t._v("文字内容，必须、只能在"),n("code",[t._v("<text>")]),t._v("组件下。不能在"),n("code",[t._v("<div>")]),t._v("、"),n("code",[t._v("<view>")]),t._v("的text区域里直接写文字。否则即使渲染了，也无法绑定 js 里的变量。")]),t._v(" "),n("li",[t._v("只有text标签可以设置字体大小，字体颜色。")]),t._v(" "),n("li",[t._v("布局不能使用百分比、没有媒体查询。")]),t._v(" "),n("li",[t._v("nvue 切换横竖屏时可能导致样式出现问题，建议有 nvue 的页面锁定手机方向。")]),t._v(" "),n("li",[t._v("支持的 css 有限，不过并不影响布局出你需要的界面，flex还是非常强大的。"),n("a",{attrs:{href:"https://uniapp.dcloud.net.cn/tutorial/nvue-css.html#flexbox",target:"_blank",rel:"noopener noreferrer"}},[t._v("详见"),n("OutboundLink")],1)]),t._v(" "),n("li",[t._v("不支持背景图。但可以使用image组件和层级来实现类似 web 中的背景效果。因为原生开发本身也没有 web 这种背景图概念")]),t._v(" "),n("li",[t._v("css 选择器支持的比较少，只能使用 class 选择器。"),n("a",{attrs:{href:"https://uniapp.dcloud.net.cn/tutorial/nvue-css.html#",target:"_blank",rel:"noopener noreferrer"}},[t._v("详见"),n("OutboundLink")],1)]),t._v(" "),n("li",[t._v("nvue 的各组件在安卓端默认是透明的，如果不设置background-color，可能会导致出现重影的问题。")]),t._v(" "),n("li",[n("code",[t._v("class")]),t._v(" 进行绑定时只支持数组语法。")]),t._v(" "),n("li",[n("code",[t._v("Android")]),t._v(" 端在一个页面内使用大量圆角边框会造成性能问题，尤其是多个角的样式还不一样的话更耗费性能。应避免这类使用。")]),t._v(" "),n("li",[n("code",[t._v("nvue")]),t._v(" 页面没有"),n("code",[t._v("bounce")]),t._v("回弹效果，只有几个列表组件有"),n("code",[t._v("bounce")]),t._v("效果，包括 "),n("code",[t._v("list")]),t._v("、"),n("code",[t._v("recycle-list")]),t._v("、"),n("code",[t._v("waterfall")]),t._v("。")]),t._v(" "),n("li",[t._v("原生开发没有页面滚动的概念，页面内容高过屏幕高度并不会自动滚动，只有部分组件可滚动（"),n("code",[t._v("list")]),t._v("、"),n("code",[t._v("waterfall")]),t._v("、"),n("code",[t._v("scroll-view/scroller")]),t._v("），要滚得内容需要套在可滚动组件下。这不符合前端开发的习惯，所以在 "),n("code",[t._v("nvue")]),t._v(" 编译为 "),n("code",[t._v("uni-app")]),t._v(" 模式时，给页面外层自动套了一个 "),n("code",[t._v("scroller")]),t._v("，页面内容过高会自动滚动。（组件不会套，页面有"),n("code",[t._v("recycle-list")]),t._v("时也不会套）。后续会提供配置，可以设置不自动套。")]),t._v(" "),n("li",[t._v("在 "),n("code",[t._v("App.vue")]),t._v(" 中定义的全局 js 变量不会在 "),n("code",[t._v("nvue")]),t._v(" 页面生效。"),n("code",[t._v("globalData")]),t._v("和"),n("code",[t._v("vuex")]),t._v("是生效的。")]),t._v(" "),n("li",[n("code",[t._v("App.vue")]),t._v(" 中定义的全局 "),n("code",[t._v("css")]),t._v("，对 "),n("code",[t._v("nvue")]),t._v(" 和 "),n("code",[t._v("vue")]),t._v(" 页面同时生效。如果全局 "),n("code",[t._v("css")]),t._v("中有些 "),n("code",[t._v("css")]),t._v(" 在 "),n("code",[t._v("nvue")]),t._v(" 下不支持，编译时控制台会报警，建议把这些不支持的 "),n("code",[t._v("css")]),t._v("包裹在"),n("a",{attrs:{href:"https://uniapp.dcloud.net.cn/tutorial/platform.html#",target:"_blank",rel:"noopener noreferrer"}},[t._v("条件编译"),n("OutboundLink")],1),t._v("里，"),n("code",[t._v("APP-PLUS-NVUE")])]),t._v(" "),n("li",[t._v("不能在 "),n("code",[t._v("style")]),t._v(" 中引入字体文件，"),n("code",[t._v("nvue")]),t._v(" 中字体图标的使用参考："),n("a",{attrs:{href:"https://uniapp.dcloud.net.cn/tutorial/nvue-api.html#addrule",target:"_blank",rel:"noopener noreferrer"}},[t._v("加载自定义字体"),n("OutboundLink")],1),t._v("。如果是本地字体，可以用"),n("code",[t._v("plus.io")]),t._v("的 "),n("code",[t._v("API")]),t._v("转换路径。")]),t._v(" "),n("li",[t._v("目前不支持在 nvue 页面使用 "),n("code",[t._v("typescript/ts")]),t._v("。")]),t._v(" "),n("li",[t._v("nvue 页面关闭原生导航栏时，想要模拟状态栏，可以"),n("a",{attrs:{href:"https://ask.dcloud.net.cn/article/35111",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考文章"),n("OutboundLink")],1),t._v("。但是，仍然强烈建议在 nvue 页面使用原生导航栏。nvue 的渲染速度再快，也没有原生导航栏快。原生排版引擎解析json绘制原生导航栏耗时很少，而解析 nvue 的 js 绘制整个页面的耗时要大的多，尤其在新页面进入动画期间，对于复杂页面，没有原生导航栏会在动画期间产生整个屏幕的白屏或闪屏。")])])])}),[],!1,null,null,null);a.default=e.exports}}]);